<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ file_name }} | GOFLIX</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="https://i.ibb.co/Z6F9WZL9/1000489714.png">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css">

<style>
body{background:#000;color:#fff}
.header{
 display:flex;
 align-items:center;
 padding:12px;
 border-bottom:1px solid #333;
}
.header img{width:38px}
.player-box{padding:8px}

.card-box{
 background:#1f2933;
 border-radius:14px;
 padding:18px;
 text-align:center;
 cursor:pointer;
}
.card-box img{
 width:46px;
 height:46px;
}
.card-box span{
 display:block;
 margin-top:6px;
 color:#ddd;
 font-size:14px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
<img src="https://i.ibb.co/Z6F9WZL9/1000489714.png">
<h5 class="ms-2 text-warning mb-0">GOFLIX</h5>
</div>

<!-- TITLE -->
<div class="text-center p-2 fw-bold">
{{ file_name }}
</div>

<!-- WEB PLAYER -->
<div class="player-box">
<video id="player" controls playsinline muted preload="metadata" style="width:100%">
<source src="{{ file_url }}" type="video/mp4">
</video>
</div>

<!-- PLAY WITH -->
<div class="p-3">
<h5 class="text-warning mb-3">Play with...</h5>

<div class="row g-3">

<div class="col-6" onclick="vlc_player()">
<div class="card-box">
<img src="https://i.ibb.co/4nWSjq5/vlc.png">
<span>VLC Player</span>
</div>
</div>

<div class="col-6" onclick="mx_player()">
<div class="card-box">
<img src="https://i.ibb.co/9HT7jf7/mx.png">
<span>MX Player</span>
</div>
</div>

<div class="col-6" onclick="playit_player()">
<div class="card-box">
<img src="https://i.ibb.co/v6693WBf/playit.png">
<span>Play-it</span>
</div>
</div>

<div class="col-6" onclick="km_player()">
<div class="card-box">
<img src="https://i.ibb.co/kVcg0TSp/km.png">
<span>KM Player</span>
</div>
</div>

<div class="col-6" onclick="s_player()">
<div class="card-box">
<img src="https://i.ibb.co/NdpF8gH0/splayer.png">
<span>S Player</span>
</div>
</div>

<div class="col-6" onclick="hd_player()">
<div class="card-box">
<img src="https://i.ibb.co/4nWSjq5z/hd.png">
<span>HD Player (4K)</span>
</div>
</div>

</div>

<button onclick="lazyDownload()" class="btn btn-secondary w-100 mt-4 rounded-pill">
Download Now
</button>
</div>

<script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>

<script>
const streamUrl = "{{ file_url }}";
const cleanUrl = streamUrl.replace(/^https?:\/\//,'');

// Web player init
new Plyr('#player',{muted:true,playsinline:true});

// VLC
function vlc_player(){
 if(/Android/i.test(navigator.userAgent)){
   location.href = `intent://${cleanUrl}#Intent;package=org.videolan.vlc;end`;
 }else{
   location.href = `vlc://${streamUrl}`;
 }
}

// MX
function mx_player(){
 location.href = `intent://${cleanUrl}#Intent;package=com.mxtech.videoplayer.ad;end`;
}

// PLAYit
function playit_player(){
 location.href =
 `intent://playerv2/video?url=${encodeURIComponent(streamUrl)}` +
 `#Intent;package=com.playit.videoplayer;end`;
}

// KM
function km_player(){
 location.href = `intent://${cleanUrl}#Intent;package=com.kmplayer;end`;
}

// S Player
function s_player(){
 location.href = `intent://${cleanUrl}#Intent;package=com.simplemobiletools.videoplayer;end`;
}

// HD Player 4K
function hd_player(){
 location.href = `intent://${cleanUrl}#Intent;package=uplayer.video.player;end`;
}

// Download
function lazyDownload(){
 window.open(streamUrl,"_blank");
}
</script>

</body>
</html>
