<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="https://i.ibb.co/Z6F9WZL9/1000489714.png" type="image/x-icon">
    <meta property="og:image" content="https://i.ibb.co/Z6F9WZL9/1000489714.png" itemprop="thumbnailUrl">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{file_name}} | Goflix</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.9/plyr.css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-light">

<!-- ================= HEADER ================= -->
<header>
<nav class="navbar bg-dark p-lg-4 p-2">
<div class="d-flex">

<button class="btn border border-danger-subtle" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#fff" viewBox="0 0 16 16">
        <path d="M1.5 0A1.5 1.5 0 0 0 0 1.5v2A1.5 1.5 0 0 0 1.5 5h13A1.5 1.5 0 0 0 16 3.5v-2A1.5 1.5 0 0 0 14.5 0h-13z"/>
    </svg>
</button>

<div class="offcanvas offcanvas-start bg-dark-subtle" tabindex="-1" id="offcanvasWithBothOptions">
<div class="offcanvas-header">
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
</div>

<div class="offcanvas-body text-center">
    <img src="https://i.ibb.co/Z6F9WZL9/1000489714.png" width="80" height="80" class="rounded mb-2">
    <h4 class="fw-bold">Goflix</h4>
</div>
</div>

<div class="container-fluid">
<a class="navbar-brand text-light fw-bold" href="#">
    <span class="bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-violet-500">
        GOFLIX
    </span>
</a>
</div>

</div>
</nav>
</header>

<!-- ================= VIDEO TITLE ================= -->
<div class="text-center p-3">
    <h5 class="fw-bold">{{file_name}}</h5>
</div>

<!-- ================= VIDEO PLAYER ================= -->
<div class="d-flex justify-content-center">
    <div class="w-full lg:w-9/12 border border-danger p-2">
        <video id="player" class="player" playsinline controls>
            <source src="{{file_url}}" type="video/mp4">
        </video>
    </div>
</div>

<!-- ================= PLAYER OPTIONS ================= -->
<div class="container mt-4">
<h4 class="text-warning mb-3">Play with external players</h4>

<div class="row g-2 justify-content-center">

<div class="col-5 col-lg-3">
<button onclick="vlc_player()" class="btn btn-dark w-100 d-flex align-items-center justify-content-center gap-2">
<img src="https://i.ibb.co/4nWSjq5z/vlc.png" width="24"> VLC Player
</button>
</div>

<div class="col-5 col-lg-3">
<button onclick="mx_player()" class="btn btn-dark w-100 d-flex align-items-center justify-content-center gap-2">
<img src="https://i.ibb.co/9HT7jf7j/mx.png" width="24"> MX Player
</button>
</div>

<div class="col-5 col-lg-3">
<button onclick="km_player()" class="btn btn-dark w-100 d-flex align-items-center justify-content-center gap-2">
<img src="https://i.ibb.co/NdpF8gH0/km.png" width="24"> KM Player
</button>
</div>

<div class="col-5 col-lg-3">
<button onclick="playit_player()" class="btn btn-dark w-100 d-flex align-items-center justify-content-center gap-2">
<img src="https://i.ibb.co/gbXgc2q5/playit.png" width="24"> PlayIt
</button>
</div>

<div class="col-12 mt-3">
<button onclick="lazyDownload()" class="btn btn-danger w-100">
Download Now
</button>
</div>

</div>
</div>

<!-- ================= FOOTER MESSAGE ================= -->
<div class="text-center mt-4 text-secondary">
Video not playing? Download and watch offline.
</div>

<!-- ================= SCRIPTS ================= -->
<script src="https://cdn.plyr.io/3.6.9/plyr.js"></script>
<script>
new WOW().init();

Plyr.setup('.player');

/* ================= KOYEB SAFE STREAM LINK ================= */
const pageUrl = window.location.href;
const streamUrl = pageUrl.replace("/watch/", "/");

/* ================= EXTERNAL PLAYERS ================= */

function vlc_player() {
    if (/Android/i.test(navigator.userAgent)) {
        window.location.href =
            `intent://${streamUrl.replace(/^https?:\/\//, "")}` +
            `#Intent;scheme=http;package=org.videolan.vlc;end`;
    } else {
        window.location.href = `vlc://${streamUrl}`;
    }
}

function mx_player() {
    window.location.href =
        `intent://${streamUrl.replace(/^https?:\/\//, "")}` +
        `#Intent;scheme=http;package=com.mxtech.videoplayer.ad;end`;
}

function playit_player() {
    window.location.href =
        `intent://playerv2/video?url=${streamUrl}` +
        `#Intent;package=com.playit.videoplayer;end`;
}

function km_player() {
    window.location.href =
        `intent://${streamUrl.replace(/^https?:\/\//, "")}` +
        `#Intent;scheme=http;package=com.kmplayer;end`;
}

function lazyDownload() {
    window.location.href = streamUrl;
}
</script>

</body>
</html>
